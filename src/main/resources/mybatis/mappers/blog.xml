<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="blog">
	
	<select id="SelectInfo" parameterType="String" resultType="BlogVo">
		<![CDATA[
		select b.id id
			,blog_title blogTitle
			,user_name name
			,logo_file saveName
		from blog b, users u
		where b.id = u.id 
		and b.id = #{id}
		]]>
	</select>
	
	<insert id="CreateBlog" parameterType="map">
		<![CDATA[
			insert into blog(id, blog_title)
			values ( #{id}
					,#{blogTitle} )
		]]>
	</insert>
	
	<update id="updateInfo" parameterType="BlogVo">
		<![CDATA[
			update blog
			set 
		]]>
			<if test='saveName == null'>
				blog_title = #{blogTitle}
			</if>
			<if test='saveName != null'>
				logo_file = #{saveName}
				,blog_title = #{blogTitle}
			</if>
		<![CDATA[
			where id = #{id}
		]]>
	</update>

</mapper>
